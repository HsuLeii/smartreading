<!DOCTYPE html>
<html lang="zh-Hant-TW">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SRE-eBook</title>

    <!-- this page widgets CSS -->
    <!-- modal -->
    <link rel="stylesheet" href="css/jquery.modal.min.css" />

    <link rel="shortcut icon" type="image/x-icon" href="image/favicon.ico" />
    <!-- <link rel="stylesheet" type="text/css" href="css/sre-ebook.css"> -->

    <link rel="stylesheet" type="text/css" href="css/SREebook.css">
</head>
<header>
    <div class="book-logo">
        <img src="image/logo.png" alt="">
    </div>
    <div class="book-title">A Small Seed with a Big Dream</div>
    <button class="close cursor background-icon"></button>
</header>

<div class="book-page two-right-book-page noMove">
    <div class="book-page-img">
        <div class="book-page-bg two-right-book-page-bg">
            <img src="image/picturebook/B1.png" alt="">
        </div>
        <div class="text two-right-text full-back">
            <div class="article">
                <p>
                    <span sindex="0" style="cursor: pointer;" class="listen_sentence">
                        <label style="font-size: 20px;">
                            Rabbit sees two monkeys playing in a tree.
                        </label>
                        <a href="#recording_fluency_modal" rel="modal:open" class="microphone_icon">
                            <i class="fa-solid fa-microphone-lines"></i>
                        </a>
                    </span>
                    <br>

                        <span sindex="0" style="cursor: pointer;" class="listen_sentence">
                            <label style="font-size: 20px;">
                                Rabbit sees two monkeys playing in a tree.
                            </label>
                            <a href="#noMicrophone_modal" rel="modal:open" class="microphone_icon">
                                <i class="fa-solid fa-microphone-lines"></i>
                            </a>
                        </span>
                    <br>

                    <span sindex="1" style="cursor: pointer;" class="listen_sentence">
                        <label style="font-size: 20px;">
                            One monkey says, "Give me five!"
                        </label>
                        <a href="#recording_modal" rel="modal:open" class="microphone_icon">
                            <i class="fa-solid fa-microphone-lines"></i>
                        </a>
                    </span>
                    <br>

                    <span sindex="2" style="cursor: pointer;" class="listen_sentence">
                        <label style="font-size: 20px;">
                            A
                        </label>
                        <a href="#recording_result_modal" rel="modal:open" class="microphone_icon">
                            <i class="fa-solid fa-microphone-lines"></i>
                        </a>
                    </span>
                    <br>

                    <span sindex="0" style="cursor: pointer;" class="">
                        <label style="font-size: 20px;">
                            Rabbit sees two monkeys playing in a tree.
                        </label>
                        <a href="#noMicrophone_modal" rel="modal:open" class="microphone_icon">
                            <i class="fa-solid fa-microphone-lines"></i>
                        </a>
                    </span>
                    <br>

                    <span sindex="1" style="cursor: pointer;" class="">
                        <label style="font-size: 20px;">
                            One monkey says, "Give me five!"
                        </label>
                        <a href="#recording_modal" class="microphone_icon">
                            <i class="fa-solid fa-microphone-lines"></i>
                        </a>
                    </span>
                    <br>
                </p>
            </div>

            <div class="sound_bar_area">
                <!-- 播放時class加上"play_animation" -->
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
                <div class="bar"></div>
            </div>

            <div class="record_play_area fluency_btn_area">
                <button id="Btn_record" class="recording_modal_icon_area fluency_area_item">
                    <div class="recording_modal_icon">
                        <i class="fa-solid fa-microphone-lines"></i>
                    </div>
    
                    <div class="modal_text">
                        <p id="recordText">錄製聲音</p>
                        <p>Voice recording</p>
                    </div>
                </button>
            </div>

        </div>
    </div>

    <div class="word-area">
        <div class="book-circle">
            <ul>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
            </ul>
        </div>
        <div class="arrow cursor">
            <img src="image/button/arrow.svg" alt="">
        </div>
        <div class="word-title">
            詞彙
        </div>
        <div class="word">
            <p>
                eye:
                <ruby>
                    <rb>眼睛</rb>
                    <rp>(</rp>
                    <rt>Yǎnjīng</rt>
                    <rp>)</rp>
                </ruby>
            </p>
            <p>
                eye:
                <ruby>
                    <rb>眼睛</rb>
                    <rp>(</rp>
                    <rt>Yǎnjīng</rt>
                    <rp>)</rp>
                </ruby>
            </p>
            <p>
                eye:
                <ruby>
                    <rb>眼睛</rb>
                    <rp>(</rp>
                    <rt>Yǎnjīng</rt>
                    <rp>)</rp>
                </ruby>
            </p>
            <p>
                eye:
                <ruby>
                    <rb>眼睛</rb>
                    <rp>(</rp>
                    <rt>Yǎnjīng</rt>
                    <rp>)</rp>
                </ruby>
            </p>
            <p>
                eye:
                <ruby>
                    <rb>眼睛</rb>
                    <rp>(</rp>
                    <rt>Yǎnjīng</rt>
                    <rp>)</rp>
                </ruby>
            </p>
            <p>
                eye:
                <ruby>
                    <rb>眼睛</rb>
                    <rp>(</rp>
                    <rt>Yǎnjīng</rt>
                    <rp>)</rp>
                </ruby>
            </p>


        </div>
    </div>
</div>
<div class="play-area">
    <div class="progress">
        <div class="drag-line">
            <div class="line" style="width: 40%; height: 4px;"></div>
            <div class="draggable-button cursor"></div>
        </div>
        <div class="number-page">
            4/10
        </div>

    </div>
    <div class="play">
        <button class="cursor btn-prev background-icon"></button>
        <button class="cursor btn-play background-icon"></button>
        <button class="cursor btn-next background-icon"></button>
    </div>
</div>
<div class="button-area">
    <div class="sound">
        <button class="sound-img cursor background-icon"></button>
        <div id="bar_mc" class="sound-drag-line">
            <div class="sound-back-line">
            </div>
            <div class="sound-line" style="width:50%; height: 4px;">
            </div>
            <div id="move_mc" class="sound-draggable-button cursor"></div>
        </div>
    </div>

    <div class="button-menu">
        <ul>
            <!-- <li class="cursor" aria-label="加入書庫">
                <button class="btn-favorite cursor background-icon"></button>
            </li> -->
            <li id="li_listen" class="cursor" aria-label="聽讀 Listen">
                <button id="listen-id" class="btn-listen cursor background-icon open"></button>
                <div class="read-menu-container">
                    <p class="label-text">
                        <input type="checkbox" checked="">
                        <span style="cursor: pointer;">聽讀<br>Listen</span>
                        <label for="listen-id" style="cursor: pointer;"></label>
                    </p>
                </div>
            </li>

            <li id="li_read" class="cursor" aria-label="唸讀 Read Aloud">
                <button id="read-id" class="btn-verbatim cursor background-icon"></button>
                <!-- <div class="read-menu-container">
                    <p class="label-text">
                        <input type="checkbox">
                        <span style="cursor: pointer;">唸讀<br>Read Aloud</span>
                        <label for="read-id" style="cursor: pointer;"></label>
                    </p>
                </div> -->
                <div class="verbatim-menu-container">
                    <button id="accuracy-id" type="button">
                        <p>發音 Accuracy</p>
                    </button>
                    <button id="fluency-id" type="button">
                        <p>流暢度 Fluency</p>
                    </button>
                </div>
            </li>

            <li id="li_text" class="cursor" aria-label="文字 Text">
                <button id="text-id" class="btn-font cursor background-icon open"></button>
                <div class="font-menu-container">
                    <p class="label-text"><input type="checkbox" id="text-id" checked>
                        <span>文字 Text</span>
                        <label for="text-id"></label></p>
                    <!-- <p class="label-text"><input type="checkbox" id="pinyin-id" checked>
                        <span>拼音 Pinyin</span>
                        <label for="pinyin-id"></label></p> -->
                </div>
            </li>
            <!-- <li class="cursor" aria-label="詞彙">
                <button class="btn-word cursor background-icon simplified"></button>
                <div class="word-menu-container">
                    <p class="label-text"><input type="checkbox" id="word-id">
                        <span>詞彙</span>
                        <label for="word-id"></label></p>
                </div>
            </li> -->

            <li id="li_word" class="cursor" aria-label="單字 Word">
                <button id="word-id" class="btn-word cursor background-icon traditionale"></button>
                <div class="word-menu-container">
                    <p class="label-text"><input type="checkbox">
                        <span>單字 Word</span>
                        <label for="word-id"></label></p>
                </div>
            </li>
            <li id="li_speed" class="cursor" aria-label="語速 Speed">
                <button class="btn-speak cursor background-icon"></button>
                <div class="speak-menu-container">
                    <p>0.5</p>
                    <p>1.0</p>
                    <p>1.5</p>
                </div>
            </li>
            <!-- <li class="cursor" aria-label="錄音">
                <button class="btn-record cursor background-icon"></button>
            </li> -->
            <li class="cursor" aria-label="放大" style="display: none;">
                <button class="btn-magnifier cursor background-icon"></button>
                <div class="magnifier-menu-container">
                    <p>0.5</p>
                    <p>1.0</p>
                    <p>1.5</p>
                </div>
            </li>
            <li class="cursor" aria-label="全螢幕 Full Screen">
                <button class="btn-screen cursor background-icon"></button>
            </li>

            <li class="cursor" aria-label="版權 copyright">
                <button class="btn-copyright cursor background-icon"></button>
            </li>
        </ul>
    </div>
</div>



<!-- 彈跳沒有麥克風開始 -->
<!-- <div id="noMicrophone_modal" class="modal noMicrophone_modal">
    <div class="noMicrophone_modal_content">
        <div class="noMicrophone_modal_title">
            <h4>
                Please insert your microphone!
            </h4>
            <h4>
                請插入麥克風！
            </h4>
        </div>
        <div class="noMicrophone_modal_icon">
            <i class="fa-solid fa-microphone-lines-slash"></i>
        </div>
        <div class="noMicrophone_modal_text">
            <p>
                無法錄音:无法录音：NotFoundError，无可用麦克风
            </p>
        </div>

        <div class="noMicrophone_modal_button_area">
            <div class="noMicrophone_modal_button">
                <a id="close-modal" href="#close-modal" rel="modal:close"
                    class="noMicrophone_modal_button_item noMicrophone_modal_close">
                    关闭 Close
                </a>
            </div>
        </div>
    </div>
</div> -->
<!-- 彈跳沒有麥克風結束 -->

<!-- 彈跳流暢度結果開始 -->
<div id="recording_fluency_modal" class="modal recording_modal recording_result_modal fluency">
    <div class="recording_modal_content">
        <div class="recording_modal_title">
            <h4>以下是你朗讀這個句子的表現</h4>
            <h4>Your sentence reading performance</h4>
        </div>

        <!-- <div class="results_comments results_comments_evaluation">
            // 錄音失敗加入class show
            <div id="div_comment" class="results_comments_item results_comments_fail show">
                <h4>你沒有錄音成功，可以再錄一次。</h4>
                <h4>Your voice wasn't successfully recorded. You may re-record your voice one more time.</h4>
            </div>

            <div class="results_comments_mark">
                <div id="div_comment" class="results_comments_item results_comments_perfect">
                    <h4>Perfect <i class="fa-solid fa-face-grin-stars"></i></h4>
                </div>
    
                 <div class="results_comments_item results_comments_good">
                    <h4>Good <i class="fa-solid fa-face-smile-beam"></i></h4>
                </div>
    
                <div class="results_comments_item results_comments_bad">
                    <h4>Fair <i class="fa-solid fa-face-meh"></i></h4>
                </div>
            </div>
        </div> -->
    
        <div class="results_comments">
            <div class="results_comments_mark">
                <!-- <div id="div_comment" class="results_comments_item results_comments_perfect">
                    <h4>Perfect <i class="fa-solid fa-face-grin-stars"></i></h4>
                </div> -->
    
                <div class="results_comments_item results_comments_good">
                    <h4>Good <i class="fa-solid fa-face-smile-beam"></i></h4>
                </div>

                <div class="results_comments_content">
                    <div class="results_comments_content_item">
                        <h4>語速：</h4>
                        <p>
                            語速過慢或過快，影響整體理解與表達。
                        </p>
                    </div>
                    <div class="results_comments_content_item">
                        <h4>Speed：</h4>
                        <p>
                            The speaking speed is either too slow or too fast, affecting overall comprehension and delivery.
                        </p>
                    </div>
                </div>
    
                <!-- <div class="results_comments_item results_comments_bad">
                    <h4>Fair <i class="fa-solid fa-face-meh"></i></h4>
                </div> -->
            </div>
        </div>

        <div class="sound_bar_area">
            <!-- 播放時class加上"play_animation" -->
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
        </div>

        <div class="record_play_area">
            <button id="Btn_playRec2" class="recording_modal_icon_area record_play_area_item your_voice_item">
                <div class="recording_modal_icon">
                    <i class="fa-solid fa-play"></i>
                </div>

                <div id="recordText" class="modal_text">
                    <p>你的聲音</p>
                    <p>Your recording</p>
                </div>
            </button>

            <a href="#close-modal" rel="modal:close"
                class="recording_modal_icon_area record_play_area_item">
                <div class="recording_modal_icon">
                    <i class="fa-solid fa-arrow-rotate-right"></i>
                </div>

                <div class="modal_text">
                    <p>重錄</p>
                    <p>Record again</p>
                </div>
            </a>

        </div>

        <div class="recording_modal_medal_area">
            <div class="recording_modal_medal">
                <img src="image/photo/map/ebookman.png" alt="">
            </div>
        </div>
    </div>
</div>
<!-- 彈跳流暢度結果結束 -->


<!-- 彈跳錄音開始 -->
<div id="recording_modal" class="modal recording_modal">
    <div class="recording_modal_content">
        <div class="recording_modal_title">
            <h4>請點選錄音並朗讀下面句子</h4>
            <h4>Press the record button and read the following sentences aloud</h4>
        </div>

        <button id="Btn_listen" class="recording_modal_icon_area listen_sentence_btn">
            <div class="recording_modal_icon">
                <i class="fa-solid fa-play"></i>
            </div>

            <div class="modal_text">
                <p class="modal_text_play_tw">播放句子</p>
                <p class="modal_text_play_en">Play sentence audio</p>
            </div>

        </button>

        <div id="recordingText" class="recording_modal_text">
            <h4>One monkey says, "Give me five!"</h4>
        </div>

        <div class="sound_bar_area">
            <!-- 播放時class加上"play_animation" -->
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
        </div>

        <div class="record_play_area">
            <button id="Btn_record" class="recording_modal_icon_area record_play_area_item record_area_item">
                <div class="recording_modal_icon">
                    <i class="fa-solid fa-microphone-lines"></i>
                </div>

                <div class="modal_text">
                    <p>錄製聲音</p>
                    <p>Voice recording</p>
                </div>
            </button>

            <button id="Btn_playRec" disabled="disabled" class="recording_modal_icon_area record_play_area_item play_area_item">
                <div class="recording_modal_icon">
                    <i class="fa-solid fa-play"></i>
                </div>

                <div class="modal_text">
                    <p>播放錄音</p>
                    <p>Play recording</p>
                </div>
            </button>
        </div>

        <div class="recording_modal_medal_area">
            <div class="recording_modal_medal">
                <img src="image/photo/map/ebookman.png" alt="">
            </div>
        </div>

        <div class="recording_modal_button_area">
            <div class="recording_modal_button">
                <a id="close-modal" href="#close-modal" rel="modal:close"
                    class="recording_modal_button_item recording_modal_close">關閉 Close
                </a>

                <a id="Btn_send" href="#recording_result_modal" class="recording_modal_button_item recording_modal_close">送出 send</a>
            </div>
        </div>
    </div>
</div>
<!-- 彈跳錄音結束 -->

<!-- 彈跳錄音結果開始 -->
<div id="recording_result_modal" class="modal recording_modal recording_result_modal">
    <div class="recording_modal_content">
        <div class="recording_modal_title">
            <h4>以下是你朗讀這個句子的表現</h4>
            <h4>Your sentence reading performance</h4>
        </div>

        <div class="results_comments results_comments_evaluation">
            <h4>評語</h4>
            <h4>Evaluation</h4>

            <!-- 錄音失敗加入class show -->
            <div id="div_comment" class="results_comments_item results_comments_fail show">
                <h4>你沒有錄音成功，可以再錄一次。</h4>
                <h4>Your voice wasn't successfully recorded. You may re-record your voice one more time.</h4>
            </div>

            <div class="results_comments_mark">
                <div id="div_comment" class="results_comments_item results_comments_perfect">
                    <h4>Perfect <i class="fa-solid fa-face-grin-stars"></i></h4>
                </div>
    
                 <div class="results_comments_item results_comments_good">
                    <h4>Good <i class="fa-solid fa-face-smile-beam"></i></h4>
                </div>
    
                <div class="results_comments_item results_comments_bad">
                    <h4>Fair <i class="fa-solid fa-face-meh"></i></h4>
                </div>
            </div>

        </div>

        <div class="results_presented_area">
            <div class="results_presented_area_title">
                <h4>表現敘述 Performance Details</h4>
            </div>
            <div id="recordingResult" class="recording_modal_text">
                <h4><span class="perfect">One</span> <span class="good">monkey</span> <span class="bad">says, "Give me five!"</span></h4>
            </div>
        </div>
        <br />      

        <div class="results_comments">
            <h4>發音：</h4>
            <div class="results_comments_mark">
                <div id="div_comment" class="results_comments_item results_comments_perfect">
                    <h4>Perfect <i class="fa-solid fa-face-grin-stars"></i></h4>
                </div>
    
                 <div class="results_comments_item results_comments_good">
                    <h4>Good <i class="fa-solid fa-face-smile-beam"></i></h4>
                </div>
    
                <div class="results_comments_item results_comments_bad">
                    <h4>Fair <i class="fa-solid fa-face-meh"></i></h4>
                </div>
            </div>
        </div>

        <div class="sound_bar_area">
            <!-- 播放時class加上"play_animation" -->
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
            <div class="bar"></div>
        </div>

        <div class="record_play_area">
            <button id="Btn_playRec2" class="recording_modal_icon_area record_play_area_item your_voice_item">
                <div class="recording_modal_icon">
                    <i class="fa-solid fa-play"></i>
                </div>

                <div id="recordText" class="modal_text">
                    <p>你的聲音</p>
                    <p>Your recording</p>
                </div>
            </button>

            <button id="Btn_listen2" class="recording_modal_icon_area record_play_area_item teacher_voice_item">
                <div class="recording_modal_icon">
                    <i class="fa-solid fa-play"></i>
                </div>

                <div id="playText" class="modal_text">
                    <p>老師的聲音</p>
                    <p>Instructor's recording</p>
                </div>
            </button>

            <a id="Btn_reRecord" href="#recording_modal" rel="modal:open"
                class="recording_modal_icon_area record_play_area_item record_item">
                <div class="recording_modal_icon">
                    <i class="fa-solid fa-arrow-rotate-right"></i>
                </div>

                <div class="modal_text">
                    <p>重錄</p>
                    <p>Record again</p>
                </div>
            </a>

        </div>

        <div class="recording_modal_medal_area">
            <div class="recording_modal_medal">
                <img src="image/photo/map/ebookman.png" alt="">
            </div>
        </div>

        <div class="recording_modal_button_area">
            <div class="recording_modal_button">
                <a href="#close-modal" rel="modal:close"
                    class="recording_modal_button_item recording_modal_close">關閉 Close
            </a>
            </div>
        </div>
    </div>
</div>
<!-- 彈跳錄音結果結束 -->


<script src="js/jquery-3.5.1.min.js"></script>
<script src="js/fontawesome-free-6.1.1.min.js"></script>

<!-- this page widgets JS -->
<!-- modal -->
<script src="js/jquery.modal.min.js"></script>

<!-- <script src="js/all.js"></script> -->

<script>
    $('a[href="#recording_modal"]').click(function () {
        $(this).modal({
            clickClose: false
        });
    });

    $('a[href="#recording_result_modal"]').click(function () {
        $(this).modal({
            clickClose: false
        });
    });

    //點選播放聲音跟播放顯示聲音動態
    $(".listen_sentence_btn").click(function () {
        $(".sound_bar_area").toggleClass("play_animation");
        if ($(this).children('.recording_modal_icon').children('i').hasClass("fa-play")) { //原本是播放
            $(this).children('.recording_modal_icon').children('i').addClass("fa-stop");
            $(this).children('.recording_modal_icon').children('i').removeClass("fa-play");
            $(".record_area_item").attr("disabled", true);
            $(".play_area_item").attr("disabled", true);
            $(this).addClass("active");
        } else { //原本是停止
            $(this).children('.recording_modal_icon').children('i').addClass("fa-play");
            $(this).children('.recording_modal_icon').children('i').removeClass("fa-stop");
            $(".record_area_item").attr("disabled", false);
            $(".play_area_item").attr("disabled", false);
            $(this).removeClass("active");
        }

        var listenText = document.getElementById("listenText");
        if (listenText.innerHTML === "停止播放") {
            listenText.innerHTML = "播放句子";
        } else {
            listenText.innerHTML = "停止播放";
           }
    });

    //點選錄製聲音跟播放顯示聲音動態
    $(".fluency_area_item").click(function () {
        $(".sound_bar_area").toggleClass("play_animation");
        if ($(this).children('.recording_modal_icon').children('i').hasClass("fa-microphone-lines")) { //原本是播放
            $(this).children('.recording_modal_icon').children('i').addClass("fa-stop");
            $(this).children('.recording_modal_icon').children('i').removeClass("fa-microphone-lines");
            $(".listen_sentence_btn").attr("disabled", true);
            $(".play_area_item").attr("disabled", true);
            $(this).addClass("active");
            // $("#recording_result_modal").dialog('open'); 

            

        } else { //原本是停止
            $(this).children('.recording_modal_icon').children('i').addClass("fa-microphone-lines");
            $(this).children('.recording_modal_icon').children('i').removeClass("fa-stop");
            $(".listen_sentence_btn").attr("disabled", false);
            $(".play_area_item").attr("disabled", false);
            $(this).removeClass("active");

            $('#recording_fluency_modal').modal({
        show: 'false'
    }); 
        }

        var recordText = document.getElementById("recordText");
        if (recordText.innerHTML === "停止錄製") {
            recordText.innerHTML = "錄製聲音";
        } else {
            recordText.innerHTML = "停止錄製";
        }

    });

    //點選錄製聲音跟播放顯示聲音動態
    $(".record_area_item").click(function () {
        $(".sound_bar_area").toggleClass("play_animation");
        if ($(this).children('.recording_modal_icon').children('i').hasClass("fa-microphone-lines")) { //原本是播放
            $(this).children('.recording_modal_icon').children('i').addClass("fa-stop");
            $(this).children('.recording_modal_icon').children('i').removeClass("fa-microphone-lines");
            $(".listen_sentence_btn").attr("disabled", true);
            $(".play_area_item").attr("disabled", true);
            $(this).addClass("active");
        } else { //原本是停止
            $(this).children('.recording_modal_icon').children('i').addClass("fa-microphone-lines");
            $(this).children('.recording_modal_icon').children('i').removeClass("fa-stop");
            $(".listen_sentence_btn").attr("disabled", false);
            $(".play_area_item").attr("disabled", false);
            $(this).removeClass("active");
        }

        var recordText = document.getElementById("recordText");
        if (recordText.innerHTML === "停止錄製") {
            recordText.innerHTML = "錄製聲音";
        } else {
            recordText.innerHTML = "停止錄製";
        }

    });

    //點選播放跟播放顯示聲音動態
    $(".play_area_item").click(function () {
        $(".sound_bar_area").toggleClass("play_animation");
        if ($(this).children('.recording_modal_icon').children('i').hasClass("fa-play")) { //原本是播放
            $(this).children('.recording_modal_icon').children('i').addClass("fa-stop");
            $(this).children('.recording_modal_icon').children('i').removeClass("fa-play");
            $(".record_area_item").attr("disabled", true);
            $(".listen_sentence_btn").attr("disabled", true);
            $(this).addClass("active");
        } else { //原本是停止
            $(this).children('.recording_modal_icon').children('i').addClass("fa-play");
            $(this).children('.recording_modal_icon').children('i').removeClass("fa-stop");
            $(".record_area_item").attr("disabled", false);
            $(".listen_sentence_btn").attr("disabled", false);
            $(this).removeClass("active");
        }

        var playText = document.getElementById("playText");
        if (playText.innerHTML === "停止") {
            playText.innerHTML = "播放";
        } else {
            playText.innerHTML = "停止";
        }

    });

    //點選你的聲音
    $(".your_voice_item").click(function () {
        $(".sound_bar_area").toggleClass("play_animation");
        if ($(this).children('.recording_modal_icon').children('i').hasClass("fa-play")) { //原本是播放
            $(this).children('.recording_modal_icon').children('i').addClass("fa-stop");
            $(this).children('.recording_modal_icon').children('i').removeClass("fa-play");
            $(".teacher_voice_item").attr("disabled", true);
            $(".record_item").attr("disabled", true);
            $(this).addClass("active");
        } else { //原本是停止
            $(this).children('.recording_modal_icon').children('i').addClass("fa-play");
            $(this).children('.recording_modal_icon').children('i').removeClass("fa-stop");
            $(".teacher_voice_item").attr("disabled", false);
            $(".record_item").attr("disabled", false);
            $(this).removeClass("active");
        }
    });

    //點選老師的聲音
    $(".teacher_voice_item").click(function () {
        $(".sound_bar_area").toggleClass("play_animation");
        if ($(this).children('.recording_modal_icon').children('i').hasClass("fa-play")) { //原本是播放
            $(this).children('.recording_modal_icon').children('i').addClass("fa-stop");
            $(this).children('.recording_modal_icon').children('i').removeClass("fa-play");
            $(".your_voice_item").attr("disabled", true);
            $(".record_item").attr("disabled", true);
            $(this).addClass("active");
        } else { //原本是停止
            $(this).children('.recording_modal_icon').children('i').addClass("fa-play");
            $(this).children('.recording_modal_icon').children('i').removeClass("fa-stop");
            $(".your_voice_item").attr("disabled", false);
            $(".record_item").attr("disabled", false);
            $(this).removeClass("active");
        }
    });

    //點選重錄
    $(".record_item").click(function () {
        $(".sound_bar_area").removeClass("play_animation");
    });
</script>

<script>
    $('a[href="#recording_modal"]').click(function () {
            $(this).modal({
                clickClose: false
            });
        });
        
        $('a[href="#recording_result_modal"]').click(function () {
            $(this).modal({
                clickClose: false
            });
        });
    </script>

    <!--功能切換-->
    <script>
        var textShow = true;
        var pinyinShow = true;

        $(document).ready(function () {
            //關閉
            $('.close').click(function () {
                window.opener = null;
                window.close();
            });

            //功能點選，打開或關閉選單
            $(".btn-speak").click(function () {
                $(this).toggleClass("open");
            });

            //全螢幕
            $('.btn-screen').click(function () {
                if (document.fullscreen) {
                    //關
                    $("#btn-screen").removeClass("end-screen").addClass("btn-screen");
                } else {
                    //開
                    $("#btn-screen").removeClass("btn-screen").addClass("end-screen");
                }
                
                screenfull.toggle();
            });

            //聽切換
            $("#listen-id").click(function () {
                $(this).toggleClass("open");
                if ($(this).hasClass("open")) {
                    soundMode = true;                    
                    
                    //PLAY鍵
                    //if ((page["type"] != "end" && page["type"] != "none" && page["type"] != "copyright") || (page["type"] == "none" && page["sound"] != undefined)) {
                    //    //$(".btn-play").css("visibility", "visible");
                    //    $(".play .btn-play").attr("disabled", false);
                    //    $(".play .btn-play").removeClass("disabled");
                    //}
                    $(".play .btn-play").attr("disabled", false);
                    $(".play .btn-play").removeClass("disabled");

                    //喇叭與音量
                    $(".sound-draggable-button").removeClass("grey");
                    $(".sound-line").removeClass("grey");
                    $('.sound-img').prop('disabled', false);
                    $('.btn-speak').prop('disabled', false);
                    //句子
                    $("span").css("cursor", "pointer");
                } else {
                    soundMode = false;
                                        
                    //PLAY鍵
                    //$(".btn-play").css("visibility","hidden");//$(".btn-play").hide();
                    $(".play .btn-play").attr("disabled", true);
                    $(".play .btn-play").addClass("disabled");

                    //喇叭與音量
                    $(".sound-draggable-button").addClass("grey");
                    $(".sound-line").addClass("grey");
                    $('.sound-img').prop('disabled', true);
                    $('.btn-speak').prop('disabled', true);
                    //句子
                    $("span").css("cursor", "");

                    //關閉正在播放的聲音
                    isEnd = true;
                    audio.pause();
                    audio_index = 0;
                    if ($(".btn-play").hasClass("pause")) $(".btn-play").removeClass("pause");
                    $("label").css("color", "");

                }
            });

            $("#li_speed p").click(function () {
                $(this).siblings().removeClass("bold");
                $(this).addClass("bold");
            });

            //唸讀切換
            $("#read-id").click(function () {
                $(this).toggleClass("open");
            });
            //發音 Accuracy切換
            $("#accuracy-id").click(function () {
                $(this).toggleClass("open");
                if ($(this).hasClass("open")) {
                    $(".listen_sentence").addClass("microphone_show");
                    $(this).children("p").addClass("bold");

                    $("#fluency-id").removeClass("open");
                    $("#fluency-id").children("p").removeClass("bold");
                    $(".fluency_btn_area").removeClass("show");
                } else {
                    $(".listen_sentence").removeClass("microphone_show");
                    $(this).children("p").removeClass("bold");
                }
            });
            //流暢度 Fluency切換
            $("#fluency-id").click(function () {
                $(this).toggleClass("open");
                if ($(this).hasClass("open")) {
                    $(".fluency_btn_area").addClass("show");
                    $(this).children("p").addClass("bold");
                    $(".sound_bar_area").addClass("show");

                    $("#accuracy-id").removeClass("open");
                    $("#accuracy-id").children("p").removeClass("bold");
                    $(".listen_sentence").removeClass("microphone_show");
                } else {
                    $(".fluency_btn_area").removeClass("show");
                    $(this).children("p").removeClass("bold");
                    $(".sound_bar_area").removeClass("show");
                }
            });

            //文字切換
            $("#text-id").click(function () {
                $(this).toggleClass("open");
                if ($(this).hasClass("open")) {
                    //$(".text p").show();
                    textShow = true;
                } else {
                    //$(".text p").hide();
                    textShow = false;
                }

                ShowText();
            });

            //單字表
            $("#word-id").click(function () {
                $(this).toggleClass("open");
                if ($(this).hasClass("open")) {
                    $(".word-area").addClass("open");
                    $(".book-page").addClass("move");
                    $(".book-page").removeClass("noMove");

                    // 版型:兩頁開始
                    var twoRightHeight = $(".book-page-bg > img").height();
                    $(".two-right-text").css({
                        "max-height": twoRightHeight
                    });
                    // 版型:兩頁結束

                    // 版型:文壓圖開始
                    var topTextHeight = $(".book-page-bg > img").height();
                    $(".top-text").css({
                        "max-height": topTextHeight
                    });
                    // 版型:文壓圖結束

                    // 版型:句子開始
                    var sentenceHeight = $(".book-page-bg > img").height();
                    $(".sentence").css({
                        "max-height": sentenceHeight
                    });
                    // 版型:句子結束

                    if ($(window).width() <= 1024) {

                        // 版型:兩頁開始
                        var twoRightTextHeight = $(".book-page-bg > img").height() / 2;
                        $(".two-right-text").css({
                            "max-height": twoRightTextHeight
                        });
                        // 版型:兩頁結束
                    }

                } else {
                    $(".word-area").removeClass("open");
                    $(".book-page").removeClass("move");
                    $(".book-page").addClass("noMove");

                    // 版型:兩頁開始
                    $(".two-right-text").css({
                        "max-height": "calc(100vh - 280px)"
                    });
                    // 版型:兩頁結束

                    // 版型:文壓圖開始
                    $(".top-text").css({
                        "max-height": "calc(100vh - 280px)"
                    });
                    // 版型:文壓圖結束

                    // 版型:句子開始
                    $(".sentence").css({
                        "max-height": "calc(100vh - 280px)"
                    });
                    // 版型:句子結束

                    if ($(window).width() <= 1024) {

                        // 版型:兩頁開始
                        var twoRightTextHeight = $(".book-page-bg > img").height() / 2;
                        $(".two-right-text").css({
                            "max-height": twoRightTextHeight
                        });
                        // 版型:兩頁結束
                    }
                }
            });

            //版權
            $('.btn-copyright').click(function () {
                ShowCopyright();
            });

            //modal
            //關閉：提示前往測驗的小視窗，回到真正的最後一頁，調整進度條
            $("#close-modal1").click(function () {
                pagesLine();
            });
            $("#close-modal2").click(function () {
                pagesLine();
            });
            $("#close-modal3").click(function () {
                pagesLine();
            });
        });

        //拼音顯示
        function ShowPinyin() {
            if (pinyinShow) {
                //$('.text rt').css("visibility", "visible");
                $(".text p > span > label > rt").show();
            } else {
                //$('.text rt').css("visibility", "hidden");
                $(".text p > span > label > rt").hide();
            }
        }

        //內文顯示
        function ShowText() {
            if (textShow) {
                $(".text p").show();
            } else {
                $(".text p").hide();
            }
        }
    </script>

    
    <!--串流相關-->
    <!-- <script src="../Content/lib/dictate.js"></script>
    <script src="../Content/lib/recorder.js"></script> -->
    <!-- <script src="ReadAloud.js"></script> -->

</body>
</html>